# Story 1.4: Establish Development Environment Configuration

## Status

Draft

## Story

**As a** Developer,
**I want** a standardized way to manage environment variables,
**so that** the local development setup is simple, secure, and well-documented.

## Acceptance Criteria

1. Um arquivo `.env.example` é criado.
2. O arquivo de exemplo contém as variáveis necessárias (ex: `DATABASE_URL`).
3. A aplicação carrega as variáveis de um arquivo `.env`.
4. O arquivo `.env` está no `.gitignore`.
5. O `README.md` é atualizado com instruções de setup.

## Tasks / Subtasks

- [ ] Task 1 (AC: 1, 2)
  - [ ] Criar arquivo `.env.example` na raiz do monorepo
  - [ ] Incluir `DATABASE_URL` e outras variáveis necessárias baseadas na história anterior
  - [ ] Documentar propósito de cada variável no arquivo example
- [ ] Task 2 (AC: 3)
  - [ ] Verificar se módulo de configuração central já existe em `apps/web/app/lib/config.ts`
  - [ ] Expandir módulo de config para carregar variáveis do arquivo `.env`
  - [ ] Garantir tipagem forte das variáveis de ambiente
- [ ] Task 3 (AC: 4)
  - [ ] Verificar se `.env` já está no `.gitignore`
  - [ ] Adicionar `.env` ao `.gitignore` se necessário
  - [ ] Verificar padrões de `.env*` no gitignore
- [ ] Task 4 (AC: 5)
  - [ ] Atualizar `README.md` com seção de Environment Setup
  - [ ] Incluir instruções para copiar `.env.example` para `.env`
  - [ ] Documentar como configurar cada variável
- [ ] Task 5: Testing
  - [ ] Criar testes unitários para módulo de configuração usando Vitest
  - [ ] Testar carregamento correto de variáveis de ambiente
  - [ ] Testar comportamento com variáveis ausentes

## Dev Notes

### Previous Story Insights

- Módulo de configuração central já existe em `apps/web/app/lib/config.ts` [Source: Previous Story 1.3]
- Prisma configurado para usar `DATABASE_URL` do ambiente [Source: Previous Story 1.3]
- SQLite sendo usado como banco de dados [Source: Previous Story 1.3]
- Monorepo estrutura com npm workspaces [Source: Previous Story 1.1]

### Data Models

No specific guidance found in architecture docs

### API Specifications

No specific guidance found in architecture docs

### Component Specifications

No specific guidance found in architecture docs

### File Locations

- **Config Module**: `apps/web/app/lib/config.ts` [Source: architecture/coding-standards.md]
- **Environment Files**: `.env.example` na raiz do monorepo [Source: architecture/source-tree.md]
- **Gitignore**: `.gitignore` na raiz do monorepo [Source: architecture/source-tree.md]
- **Documentation**: `README.md` na raiz do monorepo [Source: architecture/source-tree.md]

### Testing Requirements

- **Test Files**: Use a convenção `*.test.tsx` ou `*.test.ts` [Source: architecture/coding-standards.md]
- **Unit Tests (Vitest)**: Para testes isolados de serviços, componentes e funções utilitárias [Source: architecture/test-strategy.md]
- **Coverage**: Apontar para >80% de cobertura na lógica de negócio crítica [Source: architecture/test-strategy.md]

### Technical Constraints

- **Language/Runtime**: TypeScript 5.8, Node.js 22.x [Source: architecture/coding-standards.md]
- **Environment Variables**: Acesso apenas através de módulo de config central tipado [Source: architecture/coding-standards.md]
- **Style/Linting**: ESLint e Prettier configurados ao nível do monorepo [Source: architecture/coding-standards.md]

### Project Structure Notes

A estrutura do projeto alinha com os requisitos da história:
- `.env.example` será criado na raiz conforme source-tree.md
- Módulo de config central já existe conforme padrões estabelecidos na história 1.3
- README.md será atualizado na raiz conforme estrutura padrão

### Testing

- **Test Files**: Use a convenção `*.test.tsx` ou `*.test.ts` [Source: architecture/coding-standards.md]
- **Unit Tests (Vitest)**: Para testes isolados de serviços, componentes e funções utilitárias [Source: architecture/test-strategy.md]
- **Coverage**: Apontar para >80% de cobertura na lógica de negócio crítica [Source: architecture/test-strategy.md]
- **Test Data Management**: Para esta história, focar em testes unitários do módulo de configuração

## Change Log

| Date       | Version | Description   | Author             |
| ---------- | ------- | ------------- | ------------------ |
| 2025-07-22 | 1.0     | Initial draft | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

_Pendente - será preenchido pelo agente de desenvolvimento_

### Debug Log References

_Pendente - será preenchido pelo agente de desenvolvimento_

### Completion Notes List

_Pendente - será preenchido pelo agente de desenvolvimento_

### File List

_Pendente - será preenchido pelo agente de desenvolvimento_

## QA Results

_Pendente - será preenchido pelo agente de QA_